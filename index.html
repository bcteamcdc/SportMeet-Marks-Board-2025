<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InterHouse Sports Scores 2025</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" sizes="32x32"
    href="https://i.ibb.co/B2jhjKR/New-Project-1.png">
  <style>
    /* Slideshow styles */
    .slideshow-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .slideshow-slide {
      display: none;
      width: 100%;
      animation: fade 1.5s ease;
    }

    .slideshow-slide.active {
      display: block;
    }

    .slideshow-image {
      width: 100%;
      height: 400px;
      object-fit: cover;
    }

    .slideshow-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 15px;
      text-align: center;
    }

    .slideshow-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .slideshow-description {
      font-size: 14px;
    }

    .slideshow-house {
      display: inline-block;
      margin-top: 8px;
      padding: 3px 8px;
      border-radius: 12px;
      font-weight: bold;
    }

    .slideshow-controls {
      text-align: center;
      margin-top: 10px;
    }

    .slideshow-indicator {
      display: inline-block;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #bbb;
      margin: 0 5px;
      cursor: pointer;
    }

    .slideshow-indicator.active {
      background-color: #717171;
    }

    @keyframes fade {
      from {opacity: 0.4}
      to {opacity: 1}
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <div class="header-left">
        <div class="profile-icon"></div>
        <div class="club-icon"></div>
        <div class="trophy-icon">üèÜ</div>
        <div class="header-title">InterHouse Sports Scores 2025</div>
      </div>
      <div class="nav-tabs">
        <a class="nav-tab" id="leaderboard-tab">Leaderboard</a>
        <a class="nav-tab" id="scores-tab">Scores</a>
        <a class="nav-tab" id="moments-tab">Winning Moments</a>
      </div>
    </header>
    <div id="leaderboard-page" class="page" style="display: none;">
      <div class="page-title">
        <span class="page-title-icon">‚≠ê</span>
        <span>Overall House Rankings</span>
      </div>

      <div class="rankings-grid" id="rankings-container">
      </div>
    </div>
    <div id="scores-page" class="page">
      <div class="page-title">
        <span class="page-title-icon">üìä</span>
        <span>Sports Scores</span>
      </div>

      <div class="sports-grid" id="sports-container">
      </div>
    </div>

    <div id="moments-page" class="page" style="display: none;">
      <div class="page-title">
        <span class="page-title-icon">üì∏</span>
        <span>Winning Moments</span>
      </div>
      <!-- Replacing moments-grid with slideshow -->
      <div class="slideshow-container" id="slideshow-container">
        <!-- Slides will be added dynamically -->
      </div>
      <div class="slideshow-controls" id="slideshow-controls">
        <!-- Indicators will be added dynamically -->
      </div>
<br>

  <div class="moments-grid" id="moments-container">
  </div>
    </div>

    <!-- House Details Page with Back Button -->
    <div id="house-details-page" class="page" style="display: none;">
      <button class="back-button" id="back-to-leaderboard">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back to Leaderboard
      </button>
      <div class="page-title">
        <span class="page-title-icon">üè†</span>
        <span id="house-details-title">House Details</span>
      </div>
      <div class="sports-grid" id="house-sports-container">
      </div>
    </div>

    <footer>
      <span>Created by: Bandaranayake College Coding Club</span>
      <div class="last-updated">Last Updated: <span id="last-update-date">March 03, 2025</span></div>
    </footer>
  </div>

  <script>
    const sportsData = {
      "sports": [{
      "id": "Swimming",
      "name": "Swimming",
      "date": "03/03/2025",
      "venue": "Swimming Pool",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 15
      }, {
      "house": "Tissa",
      "score": 05
      }, {
      "house": "Parakrama",
      "score": 10
      }, {
      "house": "Vijaya",
      "score": 0
      }]
      },
      {
      "id": "Tag-Rugby",
      "name": "Tag-Rugby",
      "date": "03/03/2025",
      "venue": "Main Ground",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 0
      }, {
      "house": "Tissa",
      "score": 15
      }, {
      "house": "Parakrama",
      "score": 10
      }, {
      "house": "Vijaya",
      "score": 05
      }]
      },
      {
      "id": "Road Race",
      "name": "Road Race",
      "date": "28/02/2025",
      "venue": "In Road",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 20
      }, {
      "house": "Tissa",
      "score": 25
      }, {
      "house": "Parakrama",
      "score": 15
      }, {
      "house": "Vijaya",
      "score": 10
      }]
      },
      {
      "id": "Badminton",
      "name": "Badminton",
      "date": "27/02/2025",
      "venue": "Makro ",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 05
      }, {
      "house": "Tissa",
      "score": 0
      }, {
      "house": "Parakrama",
      "score": 12.5
      }, {
      "house": "Vijaya",
      "score": 12.5
      }]
      },
      {
      "id": "Chess",
      "name": "Chess",
      "date": "25/02/2025",
      "venue": "Grade 07 Section",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 10
      }, {
      "house": "Tissa",
      "score": 2.5
      }, {
      "house": "Parakrama",
      "score": 15
      }, {
      "house": "Vijaya",
      "score": 2.5
      }]
      },
      {
      "id": "Volleyball",
      "name": "Volleyball",
      "date": "24/02/2025",
      "venue": "Main Ground",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 5
      }, {
      "house": "Tissa",
      "score": 15
      }, {
      "house": "Parakrama",
      "score": 0
      }, {
      "house": "Vijaya",
      "score": 10
      }]
      },
      {
      "id": "Elle",
      "name": "Elle",
      "date": "21/02/2025",
      "venue": "Main Ground",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 15
      }, {
      "house": "Tissa",
      "score": 5
      }, {
      "house": "Parakrama",
      "score": 10
      }, {
      "house": "Vijaya",
      "score": 0
      }]
      },
      {
      "id": "Hockey",
      "name": "Hockey",
      "date": "20/02/2025",
      "venue": "Main Ground",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 0
      }, {
      "house": "Tissa",
      "score": 15
      }, {
      "house": "Parakrama",
      "score": 5
      }, {
      "house": "Vijaya",
      "score": 10
      }]
      },
      {
      "id": "Softball",
      "name": "Softball",
      "date": "19/02/2025",
      "venue": "Main Ground",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 15
      }, {
      "house": "Tissa",
      "score": 5
      }, {
      "house": "Parakrama",
      "score": 0
      }, {
      "house": "Vijaya",
      "score": 10
      }]
      },
      {
      "id": "BasketBall",
      "name": "BasketBall",
      "date": "19/02/2025",
      "venue": "BasketBall Court",
      "isLive": false,
      "scores": [{
      "house": "Gemunu",
      "score": 5
      }, {
      "house": "Tissa",
      "score": 15
      }, {
      "house": "Parakrama",
      "score": 10
      }, {
      "house": "Vijaya",
      "score": 0
      }]
      }
      ]
    };
   
    const momentsData = {
      "moments": [
        {
        "id": "Tag-Rugby-final",
        "title": "Tag-Rugby Championship Final",
        "description": "A fast-paced tag rugby game concludes with a lightning-quick dodge and a game-winning try!",
        "house": "Tissa",
        "image": "https://github.com/bcteamcdc/SportMeet-Marks-Board-2025/blob/main/Images/Tag-Rugby/481509527_1206375371491734_2598653844130955176_n.jpg?raw=true"
        },
        {
        "id": "Badminton-final",
        "title": "Badminton Championship Final",
        "description": "A thrilling badminton match ends with a spectacular smash securing victory!",
        "house": "Vijaya",
        "image": "https://raw.githubusercontent.com/bcteamcdc/SportMeet-Marks-Board-2025/refs/heads/main/Images/Badminton/481947705_1201495678646370_3815352414909344404_n.jpg"
        },
        {
        "id": "Elle-final",
        "title": "Elle Championship Final",
        "description": "Elle secures a stunning win in the final moments",
        "house": "Gemunu",
        "image": "https://github.com/bcteamcdc/SportMeet-Marks-Board-2025/blob/main/Images/Elle/481293868_1198761235586481_6186605271315011251_n.jpg?raw=true"
        },
        {
        "id": "Volleyball-final",
        "title": "Volleyball Championship Final",
        "description": "A thrilling volleyball match reaches its climax as a powerful spike seals the game-winning point!",
        "house": "Tissa",
        "image": "https://github.com/bcteamcdc/SportMeet-Marks-Board-2025/blob/main/Images/Volleyball/481777854_1206507628145175_230429400909542038_n.jpg?raw=true"
        },
        {
        "id": "Softball-final",
        "title": "Softball Championship Final",
        "description": "A dramatic softball showdown ends with a clutch hit securing the victory!",
        "house": "Gemunu",
        "image": "https://raw.githubusercontent.com/bcteamcdc/SportMeet-Marks-Board-2025/refs/heads/main/Images/Softball/480703812_1201348868661051_1014252395281935854_n.jpg"
        },
        {
        "id": "BasketBall-final",
        "title": "BasketBall Champions",
        "description": "Epic basketball showdown ends with a buzzer-beater win",
        "house": "Tissa",
        "image": "https://raw.githubusercontent.com/bcteamcdc/SportMeet-Marks-Board-2025/main/Images/BasketBall/480881746_1198555862273685_2223825316418136102_n.jpg"
        }
      ]
    };

    const scoresTab = document.getElementById('scores-tab');
    const leaderboardTab = document.getElementById('leaderboard-tab');
    const momentsTab = document.getElementById('moments-tab');

    const scoresPage = document.getElementById('scores-page');
    const leaderboardPage = document.getElementById('leaderboard-page');
    const momentsPage = document.getElementById('moments-page');
    // House details page elements
    const houseDetailsPage = document.getElementById('house-details-page');
    const houseSportsContainer = document.getElementById('house-sports-container');
    const houseDetailsTitle = document.getElementById('house-details-title');
    const backButton = document.getElementById('back-to-leaderboard');

  const momentsContainer = document.getElementById('moments-container');
    const slideshowContainer = document.getElementById('slideshow-container');
    const slideshowControls = document.getElementById('slideshow-controls');

    const sportsContainer = document.getElementById('sports-container');
    const rankingsContainer = document.getElementById('rankings-container');
    const lastUpdateDate = document.getElementById('last-update-date');

    // Slideshow variables
    let currentSlide = 0;
    let slideshowInterval;
    const slideshowDelay = 2000; // 5 seconds between slides


    function showPage(pageElement) {
      scoresPage.style.display = 'none';
      leaderboardPage.style.display = 'none';
      momentsPage.style.display = 'none';
      houseDetailsPage.style.display = 'none'; // Hide the house details page

      pageElement.style.display = 'block';
      
      // Start slideshow when moments page is shown
      if (pageElement === momentsPage) {
        startSlideshow();
      } else {
        stopSlideshow();
      }
    }

    function setActiveTab(tab) {
      scoresTab.classList.remove('active');
      leaderboardTab.classList.remove('active');
      momentsTab.classList.remove('active');

      tab.classList.add('active');
    }

    scoresTab.addEventListener('click', () => {
      showPage(scoresPage);
      setActiveTab(scoresTab);
    });

    leaderboardTab.addEventListener('click', () => {
      showPage(leaderboardPage);
      setActiveTab(leaderboardTab);
      renderRankings();
    });

    momentsTab.addEventListener('click', () => {
      showPage(momentsPage);
      setActiveTab(momentsTab);
    });

    // Back button event listener
    backButton.addEventListener('click', () => {
      showPage(leaderboardPage);
      setActiveTab(leaderboardTab);
    });

    function getMaxScore(scores) {
      return Math.max(...scores.map(item => item.score));
    }

    function renderSports() {
      sportsContainer.innerHTML = '';

      sportsData.sports.forEach(sport => {
        const maxScore = getMaxScore(sport.scores);

        const sportCard = document.createElement('div');
        sportCard.className = 'sport-card';

        let sportContent = `
        <div class="sport-header">
          <div class="sport-title">${sport.name}</div>
          <div class="sport-subtitle">${sport.venue}</div>
          <div class="sport-date">${sport.date}</div>
          ${sport.isLive ? '<div class="live-tag"><div class="live-indicator"></div>LIVE</div>' : ''}
        </div>
        `;

        sport.scores.forEach(score => {
          const percentage = (score.score / maxScore) * 100;

          sportContent += `
          <div class="score-item">
            <div class="score-row">
              <div class="house-name ${score.house.toLowerCase()}">${score.house}</div>
              <div class="house-score">${score.score}</div>
            </div>
            <div class="progress-container">
              <div class="progress-bar ${score.house.toLowerCase()}" style="width: ${percentage}%"></div>
            </div>
          </div>
          `;
        });

        sportCard.innerHTML = sportContent;
        sportsContainer.appendChild(sportCard);
      });
    }

    function calculateTotalPoints() {
      const houses = {
        "Vijaya": {
          total: 0,
          color: "vijaya"
        },
        "Tissa": {
          total: 0,
          color: "tissa"
        },
        "Gemunu": {
          total: 0,
          color: "gemunu"
        },
        "Parakrama": {
          total: 0,
          color: "parakrama"
        }
      };

      sportsData.sports.forEach(sport => {
        sport.scores.forEach(score => {
          houses[score.house].total += score.score;
        });
      });

      return Object.entries(houses)
        .map(([name, data]) => ({
          name,
          total: data.total,
          color: data.color
        }))
        .sort((a, b) => b.total - a.total);
    }

    function renderRankings() {
      const rankings = calculateTotalPoints();
      rankingsContainer.innerHTML = '';

      rankings.forEach((house, index) => {
        const rankCard = document.createElement('div');
        rankCard.className = `ranking-card ${index === 0 ? 'highlighted' : ''}`;
        rankCard.dataset.house = house.name; // Store house name in data attribute
        rankCard.addEventListener('click', () => showHouseDetails(house.name)); // Add click event

        rankCard.innerHTML = `
        <div class="rank-number">Rank #${index + 1}</div>
        <div class="house-ranking ${house.color}">
          <span class="house-icon">üè†</span>
          <span>${house.name}</span>
        </div>
        <div class="total-score">${house.total}</div>
        `;

        rankingsContainer.appendChild(rankCard);
      });
    }

    // Function to show details of a specific house
    function showHouseDetails(houseName) {
      showPage(houseDetailsPage); // Show house details page
      houseDetailsTitle.textContent = `${houseName} House Details`; // Set the title
      renderHouseSports(houseName); // Render sports for the house
    }

    // Function to render sports for a specific house
    function renderHouseSports(houseName) {
      houseSportsContainer.innerHTML = ''; // Clear existing content

      // Filter sports data for the selected house
      const houseSports = sportsData.sports.map(sport => ({
        ...sport,
        scores: sport.scores.filter(score => score.house === houseName)
      })).filter(sport => sport.scores.length > 0); // Filter out sports where the house didn't participate

      houseSports.forEach(sport => {
        const sportCard = document.createElement('div');
        sportCard.className = 'sport-card';

        let sportContent = `
        <div class="sport-header">
          <div class="sport-title">${sport.name}</div>
          <div class="sport-subtitle">${sport.venue}</div>
          <div class="sport-date">${sport.date}</div>
        </div>
        `;

        sport.scores.forEach(score => {
          sportContent += `
          <div class="score-item">
            <div class="score-row">
              <div class="house-name ${score.house.toLowerCase()}">${score.house}</div>
              <div class="house-score">${score.score}</div>
            </div>
          </div>
          `;
        });

        sportCard.innerHTML = sportContent;
        houseSportsContainer.appendChild(sportCard);
      });
    }

    // Function to create slideshow
    function createSlideshow() {
      slideshowContainer.innerHTML = '';
      slideshowControls.innerHTML = '';
      
      // Create slides
      momentsData.moments.forEach((moment, index) => {
        const slide = document.createElement('div');
        slide.className = `slideshow-slide ${index === 0 ? 'active' : ''}`;
        
        const imagePath = moment.image || `/api/placeholder/800/400`;
        const houseColor = moment.house.toLowerCase();
        
        slide.innerHTML = `
          <img src="${imagePath}" alt="${moment.title}" class="slideshow-image">
          <div class="slideshow-caption">
            <div class="slideshow-title">${moment.title}</div>
            <div class="slideshow-description">${moment.description}</div>
            <div class="slideshow-house ${houseColor}">${moment.house} House</div>
          </div>
        `;
        
        slideshowContainer.appendChild(slide);
        
        // Create indicator
        const indicator = document.createElement('div');
        indicator.className = `slideshow-indicator ${index === 0 ? 'active' : ''}`;
        indicator.dataset.slideIndex = index;
        indicator.addEventListener('click', () => {
          goToSlide(index);
        });
        
        slideshowControls.appendChild(indicator);
      });
    }

    // Function to go to specific slide
    function goToSlide(index) {
      const slides = document.querySelectorAll('.slideshow-slide');
      const indicators = document.querySelectorAll('.slideshow-indicator');
      
      // Hide all slides and remove active class from indicators
      slides.forEach(slide => slide.classList.remove('active'));
      indicators.forEach(indicator => indicator.classList.remove('active'));
      
      // Show selected slide and activate its indicator
      slides[index].classList.add('active');
      indicators[index].classList.add('active');
      
      // Update current slide index
      currentSlide = index;
      
      // Reset slideshow timer
      resetSlideshowTimer();
    }

    // Function to go to next slide
    function nextSlide() {
      const slides = document.querySelectorAll('.slideshow-slide');
      const nextIndex = (currentSlide + 1) % slides.length;
      goToSlide(nextIndex);
    }

    // Function to start slideshow
    function startSlideshow() {
      if (!slideshowInterval) {
        slideshowInterval = setInterval(nextSlide, slideshowDelay);
      }
    }

    // Function to stop slideshow
    function stopSlideshow() {
      if (slideshowInterval) {
        clearInterval(slideshowInterval);
        slideshowInterval = null;
      }
    }

    // Function to reset slideshow timer
    function resetSlideshowTimer() {
      stopSlideshow();
      startSlideshow();
    }
        function renderMoments() {
            momentsContainer.innerHTML = '';
            
            momentsData.moments.forEach(moment => {
                const momentCard = document.createElement('div');
                momentCard.className = 'moment-card';
               
                const imagePath = moment.image || `/api/placeholder/400/200`;
                const houseColor = moment.house.toLowerCase();
                
                momentCard.innerHTML = `
                    <img src="${imagePath}" alt="${moment.title}" class="moment-image">
                    <div class="moment-content">
                        <div class="moment-title">${moment.title}</div>
                        <div class="moment-description">${moment.description}</div>
                        <div class="moment-house">
                            <span class="house-icon ${houseColor}">üè†</span>
                            <span class="moment-house-name ${houseColor}">${moment.house} House</span>
                        </div>
                    </div>
                `;
                
                momentsContainer.appendChild(momentCard);
            });
        }
    renderSports();
    renderRankings();
  renderMoments();
    createSlideshow();
    showPage(leaderboardPage);
    setActiveTab(leaderboardTab);
  </script>
</body>

</html>
